<!-- Code citation: Code was adapted from the provided guide https://github.com/osu-cs340-ecampus/nodejs-starter-app -->
<html>

<head>
    <title>Games_Genres</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body class="text-center">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a  class="nav-link" href="/games">Games</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/users">Users</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/reviews">Reviews</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/genres">Genres</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link active" href="/">Games_Genres</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/users_games">Users_Games</a>
        </li>
    </ul>

    <br>
    <br>

<!-- Games_Genres table -->
    <div id="browseGenres" class="container-fluid border border-dark " style="max-height: 600px;  overflow:auto; ">
        <table id="game-genre-table" class="table table-bordered align-middle text-center">
            <thead class="table table-light table-bordered sticky-top">
                <tr>
                    {{#each Games_Genres.[0]}}
                    <th style="height: 50px; top: 0px;">
                        {{@key}}
                    
                    {{/each}}

                    </th>
                </tr>
            </thead>
            <tbody>
                {{#each Games_Genres}}
                <tr>
                    <td>{{this.gameGenreID}}</td>
                    <td>{{this.gameID}}</td>
                    <td>{{this.genreID}}</td>
                    <td><button class="btn btn-primary" onclick="deleteGameGenre({{this.gameGenreID}})">Delete</button></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div> 
    <script src="./js/delete_game_genre.js"></script>


 <!-- Forms container -->
<div class="container pt-3">
      <div class="row">
        <div class="col-sm">
            <!-- add Game_Genre -->
            <h4>Add Relationship:</h4>
                <form id="/add-game-genre-form" method="POST" action="/add-game-genre-form">
                    <label for="gameID">Game:</label>
                    <br />
                    <select id="gameID" name="gameID">
                        {{#each GameIDs}}
                        <option value="{{gameID}}">ID: {{gameID}} || Name: {{gameTitle}}</option>
                        {{/each}}
                    </select> 
                    <br>
                    <label for="genreID">Genre:</label>
                    <br />
                    <select id="genreID" name="genreID">
                        {{#each GenreIDs}}
                        <option value="{{genreID}}">ID: {{genreID}} || Name: {{genreName}} </option>
                        {{/each}}
                    </select>
                    <br />
                    <br />
                <input type="submit" class="mt-2 mb-5 text-center btn btn-primary btn-sm"  value="Add Game Genre"/>
                </form>
            </div>  
    </div> 

</body>
</html>