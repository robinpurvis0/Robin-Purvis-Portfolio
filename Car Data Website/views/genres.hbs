<!-- Code citation: Code was adapted from the provided guide https://github.com/osu-cs340-ecampus/nodejs-starter-app -->
<html>

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <title>Genres</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body class="text-center">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a  class="nav-link" href="/games">Games</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/users">Users</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/reviews">Reviews</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link active" href="/">Genres</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/games_genres">Games_Genres</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/users_games">Users_Games</a>
        </li>
    </ul>

    <br>
    <br>
    <!-- genres table -->
    <div id="browseGenres" class="container-fluid border border-dark " style="max-height: 600px;  overflow:auto; ">
        <table id="genre-table" class="table table-bordered align-middle text-center">
            <thead class="table table-light table-bordered sticky-top">
                <tr>
                    {{#each data.[0]}}
                        <th style="height: 50px; top: 0px;"> {{@key}} </th>
                    {{/each}}
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {{#each data}}
                <tr data-value={{this.id}}>
                    <td>{{this.genreID}}</td>
                    <td>{{this.genreName}}</td>
                    <td><button class="btn btn-primary" onclick="deleteGenre({{this.genreID}})">Delete</button></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div> 


    <!-- add genre -->
    <div id="form"  class="container"  style="padding-top: 5%;">
        <div class="row">
            <div class="col">
            <h2>Add a New Genre:</h2>
                <form id="add-game-form" method="POST" action="/add-genre-form">
                    <label for="genreName">genreName</label>
                    <br />
                    <input type="text" id="genreName" name="genreName" />
                    <br />
                    <br />
                    
                    <input type="submit" id="addGenre" class="mx-5 text-center btn btn-primary btn-sm" value="Add Genre" />
                </form>
            </div>
    
    <!-- edit genre -->
    <div class="col">
        <h2>Edit a Genre:</h2>
        <strong>(Select an ID to Autofill)</strong>
        <form id="update-genre-form-ajax">
            <label for="genreID">genreID: </label>
            <br>
            <select id="updateGenreID" name="updateGenreID">
                <option value="test" selected="selected" disabled>Select a genreID:</option>
                {{#each data}}
                <option value="{{genreID}}">ID: {{genreID}} || Name: {{genreName}}</option>
                {{/each}}
            </select>
            <br>
            <label for="updateGenreName">genreName:</label><br>
            <input type="text" required id="updateGenreName" name="updateGenreName">
            </br>
            <input type="submit" class="mt-2 mb-5 text-center btn btn-primary btn-sm" value="Edit Genre">
        </form>
    </div>
    </div>
    <script src="./js/delete_genre.js"></script>
    <script src="./js/update_genre.js"></script>

</body>

</html>