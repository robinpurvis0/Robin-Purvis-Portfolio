<!-- Code citation: Code was adapted from the provided guide https://github.com/osu-cs340-ecampus/nodejs-starter-app -->
<html>

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <title>Users_Games</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body class="text-center">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a  class="nav-link" href="/games">Games</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/users">Users</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/reviews">Reviews</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/genres">Genres</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link" href="/games_genres">Games_Genres</a>
        </li>
        <li class="nav-item">
            <a  class="nav-link active" href="/">Users_Games</a>
        </li>
    </ul>
    <!-- Browse Users_Games -->
    <div class="container-fluid" style="height:40px;"></div>

    <div id="browseUserGames" class="container-fluid border border-dark " style="max-height: 600px;  overflow:auto; ">
        <table id="user-game-table" class="table table-bordered table-hover table-sm">
            <thead class="table table-light table-bordered sticky-top">
                <tr>
                    {{#each usersGames.[0]}}
                    <th style="height: 50px; top: 0px;">
                        {{@key}}
                    </th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
                {{#each usersGames}}
                <tr>
                    <td>{{this.userGameID}}</td>
                    <td>{{this.userID}}</td>
                    <td>{{this.gameID}}</td>
                    <td><button class="btn btn-primary" onclick="deleteUserGame({{this.userGameID}})">Delete</button></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div> <!-- browse -->

<!-- Forms container -->
    <div class="container">
      <div class="row">
        <div class="col-sm">
          <!-- Add Users_Games form -->
        <h4>Add Relationship:</h4>
        <form id="add-user-game-form" method="POST" action="/add-user-game-form">
          <label for="userID">userID:</label>
          <br />
          <select name="userID" id="userID">
              {{#each userIDs}}
              <option value="{{this.userID}}">ID: {{this.userID}} || Name: {{this.userName}}</option>
              {{/each}}
          </select>
          <br />
          
          <label for="gameID">gameID:</label>
          <br />
          <select name="gameID" id="gameID">
              {{#each gameIDs}}
              <option value="{{this.gameID}}">ID: {{this.gameID}} || Name: {{this.gameTitle}}</option>
              {{/each}}
          </select>
          <br />

          <input type="submit" class="mt-2 mb-5 text-center btn btn-primary btn-sm"  value="Add Game"/>
        </form>
      </div>
        </div>
      </div>
    <script src="./js/delete_users_games.js"></script>
</body>
</html>